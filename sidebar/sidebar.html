<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="sidebar.css">
    <meta charset="utf-8">
    <title>Text QA Sidebar</title>
</head>
<div id="resize-handle"></div>
<body>
    <div id="sidebar-content">
        <h1>Text QA Extension</h1>

        <div id="api-key-input-area">
            <!-- API key input elements (same as before) -->
            <label for="api-key">Gemini API Key:</label>
            <input type="text" id="api-key" placeholder="Enter your Gemini API key">
            <button id="save-api-key">Save Key</button>
            <p id="api-key-status"></p>
        </div>

        <div id="gemini-response-area">

            <div id="page-and-selection">
                <!-- new area for putting page context-->
                <div class="chat-text page-context">Page Context: <span id='page-context-area'>loading...</span>
                </div>
                <div class="chat-text selected-text">Selected Text: <span id='selected-text-area'></span>
                </div>
            </div>

            <div id="chat-history">
                <!-- chat history will go here via JS-->
            </div>


            <div id="question-input-area">
                <!-- Question Input Area - Moved INSIDE gemini-response-area -->
                <label for="user-question">Your Question:</label>
                <textarea id="user-question"
                    placeholder="Ask your question about the selected text or page"></textarea>
            </div>
            <!-- Gemini API responses will be displayed here (chat history will build up here) -->
        </div>

        <!-- REMOVE page-context-section -->
        <!-- <div id="page-context-section" class="collapsible"> ... </div> -->

        <!-- REMOVE selected-text-display -->
        <!-- <div id="selected-text-display"> ... </div> -->

        <!-- REMOVE "This is the sidebar." paragraph -->
        <!-- <p>This is the sidebar.</p> -->
    </div>
    <script src="sidebar.js" type="module"></script>
</body>
</html>